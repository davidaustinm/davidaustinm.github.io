<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2022-08-08T13:56:02-04:00       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Computation with Sage</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="Understanding Linear Algebra">
<meta property="book:author" content=" David Austin ">
<script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script><script>window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore|ignore-math",
    processHtmlClass: "process-math",
    renderActions: {
        findScript: [10, function (doc) {
            document.querySelectorAll('script[type^="math/tex"]').forEach(function(node) {
                var display = !!node.type.match(/; *mode=display/);
                var math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                var text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = {node: text, delim: '', n: 0};
                math.end = {node: text, delim: '', n: 0};
                doc.math.push(math);
            });
        }, '']
    },
  },
  chtml: {
    scale: 0.88,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({inputLocation: 'pre.sagecell-sage',
                       linked: true,
                       languages: ['sage'],
                       evalButtonText: 'Evaluate (Sage)'});
</script><script async="" src="https://cse.google.com/cse.js?cx=015103900096539427448:ngwuia10qci"></script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.13/pretext.js"></script><script>miniversion=0.674</script><script src="https://pretextbook.org/js/0.13/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/colors_blue_grey.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/setcolors.css" rel="stylesheet" type="text/css">
<!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX Course: Title Here';
eBookConfig.basecourse = 'PTX Base Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.acDefaultLanguage = 'python';
eBookConfig.runestone_version = '5.0.1';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script type="text/javascript" src="https://runestone.academy/cdn/runestone/6.2.1/runtime.b0f8547c48f16a9f.bundle.js"></script><script type="text/javascript" src="https://runestone.academy/cdn/runestone/6.2.1/637.d54be67956c5c660.bundle.js"></script><script type="text/javascript" src="https://runestone.academy/cdn/runestone/6.2.1/runestone.0e9550fe42760516.bundle.js"></script><link rel="stylesheet" type="text/css" href="https://runestone.academy/cdn/runestone/6.2.1/637.fafafbd97df8a0d1.css">
<link rel="stylesheet" type="text/css" href="https://runestone.academy/cdn/runestone/6.2.1/runestone.e4d5592da655219f.css">
</head>
<body class="pretext-book ignore-math has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\avec}{{\mathbf a}}
\newcommand{\bvec}{{\mathbf b}}
\newcommand{\cvec}{{\mathbf c}}
\newcommand{\dvec}{{\mathbf d}}
\newcommand{\dtil}{\widetilde{\mathbf d}}
\newcommand{\evec}{{\mathbf e}}
\newcommand{\fvec}{{\mathbf f}}
\newcommand{\nvec}{{\mathbf n}}
\newcommand{\pvec}{{\mathbf p}}
\newcommand{\qvec}{{\mathbf q}}
\newcommand{\svec}{{\mathbf s}}
\newcommand{\tvec}{{\mathbf t}}
\newcommand{\uvec}{{\mathbf u}}
\newcommand{\vvec}{{\mathbf v}}
\newcommand{\wvec}{{\mathbf w}}
\newcommand{\xvec}{{\mathbf x}}
\newcommand{\yvec}{{\mathbf y}}
\newcommand{\zvec}{{\mathbf z}}
\newcommand{\rvec}{{\mathbf r}}
\newcommand{\mvec}{{\mathbf m}}
\newcommand{\zerovec}{{\mathbf 0}}
\newcommand{\onevec}{{\mathbf 1}}
\newcommand{\real}{{\mathbb R}}
\newcommand{\twovec}[2]{\left[\begin{array}{r}#1 \\ #2
\end{array}\right]}
\newcommand{\ctwovec}[2]{\left[\begin{array}{c}#1 \\ #2
\end{array}\right]}
\newcommand{\threevec}[3]{\left[\begin{array}{r}#1 \\ #2 \\ #3
\end{array}\right]}
\newcommand{\cthreevec}[3]{\left[\begin{array}{c}#1 \\ #2 \\ #3
\end{array}\right]}
\newcommand{\fourvec}[4]{\left[\begin{array}{r}#1 \\ #2 \\ #3 \\ #4
\end{array}\right]}
\newcommand{\cfourvec}[4]{\left[\begin{array}{c}#1 \\ #2 \\ #3 \\ #4
\end{array}\right]}
\newcommand{\fivevec}[5]{\left[\begin{array}{r}#1 \\ #2 \\ #3 \\
#4 \\ #5 \\ \end{array}\right]}
\newcommand{\cfivevec}[5]{\left[\begin{array}{c}#1 \\ #2 \\ #3 \\
#4 \\ #5 \\ \end{array}\right]}
\newcommand{\mattwo}[4]{\left[\begin{array}{rr}#1 \amp #2 \\ #3 \amp #4 \\ \end{array}\right]}
\newcommand{\laspan}[1]{\text{Span}\{#1\}}
\newcommand{\bcal}{{\cal B}}
\newcommand{\ccal}{{\cal C}}
\newcommand{\scal}{{\cal S}}
\newcommand{\wcal}{{\cal W}}
\newcommand{\ecal}{{\cal E}}
\newcommand{\coords}[2]{\left\{#1\right\}_{#2}}
\newcommand{\gray}[1]{\color{gray}{#1}}
\newcommand{\lgray}[1]{\color{lightgray}{#1}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\row}{\text{Row}}
\newcommand{\col}{\text{Col}}
\renewcommand{\row}{\text{Row}}
\newcommand{\nul}{\text{Nul}}
\newcommand{\var}{\text{Var}}
\newcommand{\corr}{\text{corr}}
\newcommand{\len}[1]{\left|#1\right|}
\newcommand{\bbar}{\overline{\bvec}}
\newcommand{\bhat}{\widehat{\bvec}}
\newcommand{\bperp}{\bvec^\perp}
\newcommand{\xhat}{\widehat{\xvec}}
\newcommand{\vhat}{\widehat{\vvec}}
\newcommand{\uhat}{\widehat{\uvec}}
\newcommand{\what}{\widehat{\wvec}}
\newcommand{\Sighat}{\widehat{\Sigma}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="ula.html"><span class="title">Understanding Linear Algebra</span></a></h1>
<p class="byline">David Austin</p>
</div>
<div class="searchwrapper" role="search"><div class="gcse-search"></div></div>
</div></div>
<nav id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-1.html" title="Index">Index</a><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="sec-finding-solutions.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="chap1.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="sec-pivots.html" title="Next">Next</a></span>
</div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="sec-finding-solutions.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="chap1.html" title="Up">Up</a><a class="next-button button toolbar-item" href="sec-pivots.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter">
<a href="frontmatter.html" data-scroll="frontmatter" class="internal"><span class="title">Front Matter</span></a><ul>
<li><a href="dedication-1.html" data-scroll="dedication-1" class="internal">Dedication</a></li>
<li><a href="colophon-1.html" data-scroll="colophon-1" class="internal">Colophon</a></li>
<li><a href="preface-1.html" data-scroll="preface-1" class="internal">Our goals</a></li>
</ul>
</li>
<li class="link">
<a href="chap1.html" data-scroll="chap1" class="internal"><span class="codenumber">1</span> <span class="title">Systems of equations</span></a><ul>
<li><a href="sec-expect.html" data-scroll="sec-expect" class="internal">What can we expect</a></li>
<li><a href="sec-finding-solutions.html" data-scroll="sec-finding-solutions" class="internal">Finding solutions to linear systems</a></li>
<li><a href="sec-sage-introduction.html" data-scroll="sec-sage-introduction" class="active">Computation with Sage</a></li>
<li><a href="sec-pivots.html" data-scroll="sec-pivots" class="internal">Pivots and their influence on solution spaces</a></li>
</ul>
</li>
<li class="link">
<a href="chap2.html" data-scroll="chap2" class="internal"><span class="codenumber">2</span> <span class="title">Vectors, matrices, and linear combinations</span></a><ul>
<li><a href="sec-vectors-lin-combs.html" data-scroll="sec-vectors-lin-combs" class="internal">Vectors and linear combinations</a></li>
<li><a href="sec-matrices-lin-combs.html" data-scroll="sec-matrices-lin-combs" class="internal">Matrix multiplication and linear combinations</a></li>
<li><a href="sec-span.html" data-scroll="sec-span" class="internal">The span of a set of vectors</a></li>
<li><a href="sec-linear-dep.html" data-scroll="sec-linear-dep" class="internal">Linear independence</a></li>
<li><a href="sec-linear-trans.html" data-scroll="sec-linear-trans" class="internal">Matrix transformations</a></li>
<li><a href="sec-transforms-geom.html" data-scroll="sec-transforms-geom" class="internal">The geometry of matrix transformations</a></li>
</ul>
</li>
<li class="link">
<a href="chap3.html" data-scroll="chap3" class="internal"><span class="codenumber">3</span> <span class="title">Invertibility, bases, and coordinate systems</span></a><ul>
<li><a href="sec-matrix-inverse.html" data-scroll="sec-matrix-inverse" class="internal">Invertibility</a></li>
<li><a href="sec-bases.html" data-scroll="sec-bases" class="internal">Bases and coordinate systems</a></li>
<li><a href="sec-jpeg.html" data-scroll="sec-jpeg" class="internal">Image compression</a></li>
<li><a href="sec-determinants.html" data-scroll="sec-determinants" class="internal">Determinants</a></li>
<li><a href="sec-subspaces.html" data-scroll="sec-subspaces" class="internal">Subspaces</a></li>
</ul>
</li>
<li class="link">
<a href="chap4.html" data-scroll="chap4" class="internal"><span class="codenumber">4</span> <span class="title">Eigenvalues and eigenvectors</span></a><ul>
<li><a href="sec-eigen-intro.html" data-scroll="sec-eigen-intro" class="internal">An introduction to eigenvalues and eigenvectors</a></li>
<li><a href="sec-eigen-find.html" data-scroll="sec-eigen-find" class="internal">Finding eigenvalues and eigenvectors</a></li>
<li><a href="sec-eigen-diag.html" data-scroll="sec-eigen-diag" class="internal">Diagonalization, similarity, and powers of a matrix</a></li>
<li><a href="sec-dynamical.html" data-scroll="sec-dynamical" class="internal">Dynamical systems</a></li>
<li><a href="sec-stochastic.html" data-scroll="sec-stochastic" class="internal">Markov chains and Google's PageRank algorithm</a></li>
</ul>
</li>
<li class="link">
<a href="chap5.html" data-scroll="chap5" class="internal"><span class="codenumber">5</span> <span class="title">Linear algebra and computing</span></a><ul>
<li><a href="sec-gaussian-revisited.html" data-scroll="sec-gaussian-revisited" class="internal">Gaussian elimination revisited</a></li>
<li><a href="sec-power-method.html" data-scroll="sec-power-method" class="internal">Finding eigenvectors numerically</a></li>
</ul>
</li>
<li class="link">
<a href="chap6.html" data-scroll="chap6" class="internal"><span class="codenumber">6</span> <span class="title">Orthogonality and Least Squares</span></a><ul>
<li><a href="sec-dot-product.html" data-scroll="sec-dot-product" class="internal">The dot product</a></li>
<li><a href="sec-transpose.html" data-scroll="sec-transpose" class="internal">Orthogonal complements and the matrix transpose</a></li>
<li><a href="sec-orthogonal-bases.html" data-scroll="sec-orthogonal-bases" class="internal">Orthogonal bases and projections</a></li>
<li><a href="sec-gram-schmidt.html" data-scroll="sec-gram-schmidt" class="internal">Finding orthogonal bases</a></li>
<li><a href="sec-least-squares.html" data-scroll="sec-least-squares" class="internal">Orthogonal least squares</a></li>
</ul>
</li>
<li class="link">
<a href="chap7.html" data-scroll="chap7" class="internal"><span class="codenumber">7</span> <span class="title">The Spectral Theorem and singular value decompositions</span></a><ul>
<li><a href="sec-symmetric-matrices.html" data-scroll="sec-symmetric-matrices" class="internal">Symmetric matrices and variance</a></li>
<li><a href="sec-quadratic-forms.html" data-scroll="sec-quadratic-forms" class="internal">Quadratic forms</a></li>
<li><a href="sec-pca.html" data-scroll="sec-pca" class="internal">Principal Component Analysis</a></li>
<li><a href="sec-svd-intro.html" data-scroll="sec-svd-intro" class="internal">Singular Value Decompositions</a></li>
<li><a href="sec-svd-uses.html" data-scroll="sec-svd-uses" class="internal">Using Singular Value Decompositions</a></li>
</ul>
</li>
<li class="link backmatter"><a href="backmatter.html" data-scroll="backmatter" class="internal"><span class="title">Back Matter</span></a></li>
<li class="link"><a href="app-sage-reference.html" data-scroll="app-sage-reference" class="internal"><span class="codenumber">A</span> <span class="title">Sage Reference</span></a></li>
<li class="link"><a href="index-1.html" data-scroll="index-1" class="internal"><span class="title">Index</span></a></li>
<li class="link"><a href="colophon-2.html" data-scroll="colophon-2" class="internal"><span class="title">Colophon</span></a></li>
</ul></nav><div class="extras"><nav><a class="pretext-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section class="section" id="sec-sage-introduction"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">1.3</span> <span class="title">Computation with Sage</span>
</h2>
<section class="introduction" id="introduction-3"><p id="p-361">Linear algebra owes its prominence as a powerful scientific tool to the ever-growing power of computers.  Carl Cowen, a former president of the Mathematical Association of America, has said, “No serious application of linear algebra happens without a computer.” Indeed, Cowen notes that, in the 1950s, working with a system of 100 equations in 100 variables was difficult. Today, scientists and mathematicians routinely work on problems that are vastly larger.  This is only possible because of today's computing power.</p>
<p id="p-362">It is therefore important for any student of linear algebra to become comfortable solving linear algebraic problems on a computer.  This section will introduce you to a program called Sage that can help.  While you may be able to do much of this work on a graphing calculator, you are encouraged to become comfortable with Sage as we will use increasingly powerful features as we encounter their need.</p></section><section class="subsection" id="subsection-8"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">1.3.1</span> <span class="title">Introduction to Sage</span>
</h3>
<p id="p-363">There are several ways to access Sage.</p>
<ul class="disc">
<li id="li-222">
<p id="p-364">If you are reading this book online, there will be embedded “Sage cells” at appropriate places in the text.  You have the opportunity to type Sage commands into these cells and execute them, provided you are connected to the Internet.  Please be aware that your work will be lost if you reload the page.</p>
<p id="p-365">Here is a Sage cell containing a command that asks Sage to multiply 5 and 3.  You may execute the command by pressing the <em class="emphasis">Evaluate</em> button. <pre class="ptx-sagecell sagecell-sage" id="sage-1"><script type="text/x-sage">5 * 3
</script></pre></p>
</li>
<li id="li-223"><p id="p-366">You may also go to <a class="external" href="https://cocalc.com" target="_blank"><code class="code-inline tex2jax_ignore">cocalc.com</code></a>, sign up for an account, open a new project, and create a “Sage worksheet.” Once inside the worksheet, you may enter commands as shown here, and evaluate them by pressing <em class="emphasis">Enter</em> on your keyboard while holding down the <em class="emphasis">Shift</em> key.</p></li>
<li id="li-224"><p id="p-367">There is a page of Sage cells at <a class="external" href="http://gvsu.edu/s/0Ng" target="_blank"><code class="code-inline tex2jax_ignore">gsvu.edu/s/0Ng</code></a>.  Any results obtained by evaluating one cell are available in other cells. However, your work will be lost when the page is reloaded.</p></li>
</ul>
<p id="p-368">Throughout the text, we will introduce new Sage commands that allow us to explore linear algebraic concepts.  These commands are collected and summarized in the reference found in <a href="app-sage-reference.html" class="internal" title="Appendix A: Sage Reference">Appendix A</a>.</p>
<article class="activity project-like" id="activity-7"><h4 class="heading">
<span class="type">Activity</span><span class="space"> </span><span class="codenumber">1.3.1</span><span class="period">.</span><span class="space"> </span><span class="title">Basic Sage commands.</span>
</h4>
<ol id="p-369" class="lower-alpha">
<li id="li-225">
<p id="p-370">Sage uses the standard operators +, -, *, /, and ^ for the usual arithmetic operations.  By entering text in the cell below, ask Sage to evaluate</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
3 + 4(2^4 - 1)
\end{equation*}
</div>
<p class="continuation"><pre class="ptx-sagecell sagecell-sage" id="sage-2"><script type="text/x-sage">
</script></pre></p>
</li>
<li id="li-226">
<p id="p-371">Notice that we can create new lines by pressing <em class="emphasis">Enter</em> and entering additional commands on them. 	What happens when you evaluate this Sage cell? <pre class="ptx-sagecell sagecell-sage" id="sage-3"><script type="text/x-sage">5 * 3
10 - 4
</script></pre></p>
<p id="p-372">Notice that we only see the result from the last command. With the <code class="code-inline tex2jax_ignore">print</code> command, we may see earlier results, if we wish. <pre class="ptx-sagecell sagecell-sage" id="sage-4"><script type="text/x-sage">print(5 * 3)
print(10 - 4)
</script></pre></p>
</li>
<li id="li-227">
<p id="p-373">We may give a name to the result of one command and refer to it in a later command. <pre class="ptx-sagecell sagecell-sage" id="sage-5"><script type="text/x-sage">income = 1500 * 12
taxes = income * 0.15
print(taxes)
</script></pre></p>
<p id="p-374">Suppose you have three tests in your linear algebra class and your scores are 90, 100, and 98.  In the Sage cell below, add your scores together and call the result <code class="code-inline tex2jax_ignore">total</code>.  On the next line, find the average of your test scores and print it. <pre class="ptx-sagecell sagecell-sage" id="sage-6"><script type="text/x-sage">
</script></pre></p>
</li>
<li id="li-228"><p id="p-375">If you are not a programmer, you may ignore this part. If you are an experienced programmer, however, you should know that Sage is written in the Python programming language and that you may enter Python code into a Sage cell. <pre class="ptx-sagecell sagecell-sage" id="sage-7"><script type="text/x-sage">for i in range(10):
    print(i)
</script></pre></p></li>
</ol></article></section><section class="subsection" id="subsection-9"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">1.3.2</span> <span class="title">Sage and matrices</span>
</h3>
<p id="p-384">When we encounter a matrix, <a href="" class="xref" data-knowl="./knowl/thm-rref-is-unique.html" title="Theorem 1.2.6">Theorem 1.2.6</a> tells us that there is exactly one reduced row echelon matrix that is row equivalent to it.</p>
<p id="p-385">In fact, the uniqueness of this reduced row echelon matrix is what motivates us to define this particular form.  When solving a system of linear equations using Gaussian elimination, there are other row equivalent matrices that reveal the structure of the solution space.  The reduced row echelon matrix is simply a convenience as it is an agreement we make with one another to seek the same matrix.</p>
<p id="p-386">An added benefit is that we can ask a computer program, like Sage, to find reduced row echelon matrices for us.  We will learn how to do this now that we have a little familiarity with Sage.</p>
<p id="p-387">First, notice that a matrix has a certain number of rows and columns.  For instance, the matrix</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\left[
\begin{array}{rrrrr}
* \amp * \amp * \amp * \amp  * \\
* \amp * \amp * \amp * \amp  * \\
* \amp * \amp * \amp * \amp  * \\
\end{array}
\right]
\end{equation*}
</div>
<p class="continuation">has three rows and five columns.  We consequently refer to this as a <span class="process-math">\(3\times 5\)</span> matrix.</p>
<p id="p-388">We may ask Sage to create the <span class="process-math">\(2\times4\)</span> matrix</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\left[
\begin{array}{rrrr}
-1 \amp 0 \amp 2 \amp 7 \\
2 \amp 1 \amp -3 \amp -1 \\
\end{array}
\right]
\end{equation*}
</div>
<p class="continuation">by entering <pre class="ptx-sagecell sagecell-sage" id="sage-8"><script type="text/x-sage">matrix(2, 4, [-1, 0, 2, 7, 2, 1, -3, -1])
</script></pre> When evaluated, Sage will confirm the matrix by writing out the rows of the matrix, each inside square brackets.</p>
<p id="p-389">Notice that there are three separate things (we call them <em class="emphasis">arguments</em>) inside the parentheses: the number of rows, the number of columns, and the entries of the matrix listed by row inside square brackets.  These three arguments are separated by commas.  Notice that there is no way of specifying whether this is an augmented or coefficient matrix so it will be up to us to interpret our results appropriately.</p>
<article class="assemblage assemblage-like" id="assemblage-2"><h4 class="heading"><span class="title">Sage syntax.</span></h4>
<p id="p-390">Some common mistakes are</p>
<ul class="disc">
<li id="li-237"><p id="p-391">to forget the square brackets around the list of entries,</p></li>
<li id="li-238"><p id="p-392">to omit an entry from the list or to add an extra one,</p></li>
<li id="li-239"><p id="p-393">to forget to separate the rows, columns, and entries by commas, and</p></li>
<li id="li-240"><p id="p-394">to forget the parentheses around the arguments after <code class="code-inline tex2jax_ignore">matrix</code>.</p></li>
</ul>
<p class="continuation">If you see an error message, carefully proofread your input and try again.</p></article><p id="p-395">Alternatively, you can create a matrix by simply listing its rows, like this</p>
<pre class="code-display tex2jax_ignore">
matrix([ [-1, 0, 2, 7],	
	 [ 2, 1,-3,-1] ])
      </pre>
<article class="activity project-like" id="activity-8"><h4 class="heading">
<span class="type">Activity</span><span class="space"> </span><span class="codenumber">1.3.2</span><span class="period">.</span><span class="space"> </span><span class="title">Using Sage to find row reduced echelon matrices.</span>
</h4>
<ol id="p-396" class="lower-alpha">
<li id="li-example-rref">
<p id="p-397">Enter the following matrix into Sage.</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\left[
\begin{array}{rrrr}
-1 \amp -2 \amp 2 \amp -1 \\
2 \amp 4 \amp -1 \amp 5 \\
1 \amp 2 \amp 0 \amp 3
\end{array}
\right]
\end{equation*}
</div>
<p class="continuation"><pre class="ptx-sagecell sagecell-sage" id="sage-9"><script type="text/x-sage">
</script></pre></p>
</li>
<li id="li-242">
<p id="p-398">Give the matrix the name <span class="process-math">\(A\)</span> by entering</p>
<pre class="code-display tex2jax_ignore">
A = matrix( ..., ..., [ ... ])
	      </pre>
<p class="continuation">We may then find its reduced row echelon form by entering</p>
<pre class="code-display tex2jax_ignore">
A = matrix( ..., ..., [ ... ])
A.rref()
	      </pre>
<p class="continuation">A common mistake is to forget the parentheses after <code class="code-inline tex2jax_ignore">rref</code>.</p>
<p id="p-399">Use Sage to find the reduced row echelon form of the matrix from <a href="" class="xref" data-knowl="./knowl/li-example-rref.html" title="Item a">Item a</a> of this activity. <pre class="ptx-sagecell sagecell-sage" id="sage-10"><script type="text/x-sage">
</script></pre></p>
</li>
<li id="li-rref-solve">
<p id="p-400">Use Sage to describe the solution space of the system of linear equations</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{alignedat}{5}
-x_1 \amp  \amp  \amp  \amp  \amp  {}+{}  \amp 2x_4 \amp
{}={}  \amp 4 \\ 
\amp  \amp 3x_2 \amp  {}+{}  \amp x_3 \amp  {}+{}  \amp 2x_4
\amp  {}={}  \amp 3 \\ 
4x_1 \amp  {}-{}  \amp 3x_2 \amp  \amp  \amp  {}+{}  \amp
x_4 \amp  {}={}  \amp 14 \\ 
\amp  \amp 2x_2 \amp  {}+{}  \amp 2x_3 \amp  {}+{}  \amp x_4
\amp  {}={}  \amp 1 \\ 
\end{alignedat}
\end{equation*}
</div>
<p class="continuation"><pre class="ptx-sagecell sagecell-sage" id="sage-11"><script type="text/x-sage">
</script></pre></p>
</li>
<li id="li-augmentation-principle">
<p id="p-401">Consider the two matrices:</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{array}{rcl}
A \amp = \amp \left[
\begin{array}{rrrr}
1 \amp -2 \amp 1 \amp -3 \\
-2 \amp 4 \amp 1 \amp 1 \\
-4 \amp 8 \amp -1 \amp 7 \\
\end{array}\right] \\
B \amp = \amp \left[
\begin{array}{rrrrrr}
1 \amp -2 \amp 1 \amp -3 \amp 0 \amp 3 \\
-2 \amp 4 \amp 1 \amp 1 \amp 1 \amp -1 \\
-4 \amp 8 \amp -1 \amp 7 \amp 3 \amp 2 \\
\end{array}\right] \\
\end{array}
\end{equation*}
</div>
<p class="continuation">We say that <span class="process-math">\(B\)</span> is an <em class="emphasis">augmentation</em> of <span class="process-math">\(A\)</span> because it is obtained from <span class="process-math">\(A\)</span> by adding some more columns.</p>
<p id="p-402">Using Sage, define the matrices and compare their reduced row echelon forms.  What do you notice about the relationship between the two reduced row echelon forms?</p>
<p id="p-403"><pre class="ptx-sagecell sagecell-sage" id="sage-12"><script type="text/x-sage">
</script></pre></p>
</li>
<li id="li-245">
<p id="p-404">Using the system of equations in <a href="" class="xref" data-knowl="./knowl/li-rref-solve.html" title="Item c">Item c</a>, write the augmented matrix corresponding to the system of equations. What did you find for the reduced row echelon form of the augmented matrix?</p>
<p id="p-405">Now write the coefficient matrix of this system of equations.  What does <a href="" class="xref" data-knowl="./knowl/li-augmentation-principle.html" title="Item d">Item d</a> of this activity tell you about its reduced row echelon form?</p>
</li>
</ol></article><article class="assemblage assemblage-like" id="assemblage-3"><h4 class="heading"><span class="title">Sage practices.</span></h4>
<p id="p-418">Here are some practices that you may find helpful when working with matrices in Sage.</p>
<ul class="disc">
<li id="li-256">
<p id="p-419">Break the matrix entries across lines, one for each row, for better readability by pressing <em class="emphasis">Enter</em> between rows.</p>
<pre class="code-display tex2jax_ignore">
A = matrix(2, 4, [ 1, 2, -1, 0,
                  -3, 0,  4, 3 ])
	</pre>
</li>
<li id="li-257">
<p id="p-420">Print your original matrix to check that you have entered it correctly.  You may want to also print a dividing line to separate matrices.</p>
<pre class="code-display tex2jax_ignore">
A = matrix(2, 2, [ 1, 2,
                   2, 2])
print (A)
print ("---------")
A.rref()
	</pre>
</li>
</ul></article><p id="p-421">The last part of the previous activity, <a href="" class="xref" data-knowl="./knowl/li-augmentation-principle.html" title="Item d">Item d</a>, demonstrates something that will be helpful for us in the future.  In that activity, we started with a matrix <span class="process-math">\(A\text{,}\)</span> which we augmented by adding some columns to obtain a matrix <span class="process-math">\(B\text{.}\)</span>  We then noticed that the reduced row echelon form of <span class="process-math">\(B\)</span> is itself an augmentation of the reduced row echelon form of <span class="process-math">\(A\text{.}\)</span></p>
<p id="p-422">To illustrate, we can consider the reduced row echelon form of the augmented matrix:</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\left[
\begin{array}{ccc|c}
-2 \amp 3 \amp 0 \amp 2 \\
-1 \amp 4 \amp 1 \amp 3 \\
3 \amp 0 \amp 2 \amp 2 \\
1 \amp 5 \amp 3 \amp 7 \\
\end{array}
\right]
\sim
\left[
\begin{array}{ccc|c}
1 \amp 0 \amp 0 \amp -4 \\
0 \amp 1 \amp 0 \amp -2 \\
0 \amp 0 \amp 1 \amp 7 \\
0 \amp 0 \amp 0 \amp 0 \\
\end{array}
\right]
\end{equation*}
</div>
<p id="p-423">We can then determine the reduced row echelon form of the coefficient matrix by looking inside the augmented matrix.</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\left[
\begin{array}{ccc}
-2 \amp 3 \amp 0 \\
-1 \amp 4 \amp 1 \\
3 \amp 0 \amp 2 \\
1 \amp 5 \amp 3 \\
\end{array}
\right]
\sim
\left[
\begin{array}{ccc}
1 \amp 0 \amp 0 \\
0 \amp 1 \amp 0 \\
0 \amp 0 \amp 1 \\
0 \amp 0 \amp 0 \\
\end{array}
\right]
\end{equation*}
</div>
<p id="p-424">If we trace through the steps in the Gaussian elimination algorithm carefully, we see that this is a general principle, which we now state.</p>
<article class="proposition theorem-like" id="principle-augmentation-principle"><h4 class="heading">
<span class="type">Proposition</span><span class="space"> </span><span class="codenumber">1.3.1</span><span class="period">.</span><span class="space"> </span><span class="title">Augmentation Principle.</span>
</h4>
<p id="p-425">If matrix <span class="process-math">\(B\)</span> is an augmentation of matrix <span class="process-math">\(A\text{,}\)</span> then the reduced row echelon form of <span class="process-math">\(B\)</span> is an augmentation of the reduced row echelon form of <span class="process-math">\(A\text{.}\)</span></p></article></section><section class="subsection" id="subsec-compute-effort"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">1.3.3</span> <span class="title">Computational effort</span>
</h3>
<p id="p-426">At the beginning of this section, we indicated that linear algebra has become more prominent as computers have grown more powerful.  Computers, however, still have limits.  Let's consider how much effort is expended when we ask to find the reduced row echelon form of a matrix.  We will measure, very roughly, the effort by the number of times the algorithm requires us to multiply or add two numbers.</p>
<p id="p-427">We will assume that our matrix has the same number of rows as columns, which we call <span class="process-math">\(n\text{.}\)</span>  We are mainly interested in the case when <span class="process-math">\(n\)</span> is very large, which is when we need to worry about how much effort is required.</p>
<p id="p-428">Let's first consider the effort required for each of our row operations.</p>
<ul class="disc">
<li id="li-258"><p id="p-429">Scaling a row multiplies each of the <span class="process-math">\(n\)</span> entries in a row by some number, which requires <span class="process-math">\(n\)</span> operations.</p></li>
<li id="li-259"><p id="p-430">Interchanging two rows requires no multiplications or additions so we won't worry about the effort required by an interchange.</p></li>
<li id="li-260"><p id="p-431">A replacement requires us to multiply each entry in a row by some number, which takes <span class="process-math">\(n\)</span> operations, and then add the resulting entries to another row, which requires another <span class="process-math">\(n\)</span> operations.  The total number of operations is <span class="process-math">\(2n\text{.}\)</span></p></li>
</ul>
<p id="p-432">Our goal is to transform a matrix to its reduced row echelon form, which looks something like this:</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\left[
\begin{array}{cccc}
1 \amp 0 \amp \ldots \amp 0 \\
0 \amp 1 \amp \ldots \amp 0 \\
\vdots \amp \vdots \amp \ddots \amp 0 \\
0 \amp 0 \amp \ldots \amp 1 \\
\end{array}
\right]\text{.}
\end{equation*}
</div>
<p class="continuation">We roughly perform one replacement operation for every 0 entry in the reduced row echelon matrix.  When <span class="process-math">\(n\)</span> is very large, most of the <span class="process-math">\(n^2\)</span> entries in the reduced row echelon form are 0 so we need roughly <span class="process-math">\(n^2\)</span> replacements.  Since each replacement operation requires <span class="process-math">\(2n\)</span> operations, the number of operations resulting from the needed replacements is roughly <span class="process-math">\(n^2(2n) =
2n^3\text{.}\)</span></p>
<p id="p-433">Each row is scaled roughly one time so there are roughly <span class="process-math">\(n\)</span> scaling operations, each of which requires <span class="process-math">\(n\)</span> operations.  The number of operations due to scaling is roughly <span class="process-math">\(n^2\text{.}\)</span></p>
<p id="p-434">Therefore, the total number of operations is roughly</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
2n^3 + n^2\text{.}
\end{equation*}
</div>
<p class="continuation">When <span class="process-math">\(n\)</span> is very large, the <span class="process-math">\(n^2\)</span> term is much smaller than the <span class="process-math">\(n^3\)</span> term.  We therefore state that</p>
<article class="observation remark-like" id="observation-4"><h4 class="heading">
<span class="type">Observation</span><span class="space"> </span><span class="codenumber">1.3.2</span><span class="period">.</span>
</h4>
<p id="p-435">The number of operations required to find the reduced row echelon form of an <span class="process-math">\(n\times n\)</span> matrix is roughly proportional to <span class="process-math">\(n^3\text{.}\)</span></p></article><p id="p-436">This is a very rough measure of the effort required to find the reduced row echelon form;  a more careful accounting shows that the number of arithmetic operations is roughly <span class="process-math">\(\frac23
n^3\text{.}\)</span>  As we have seen, some matrices require more effort than others, but the upshot of this observation is that the effort is proportional to <span class="process-math">\(n^3\text{.}\)</span> We can think of this in the following way: If the size of the matrix grows by a factor of 10, then the effort required grows by a factor of <span class="process-math">\(10^3 = 1000\text{.}\)</span></p>
<p id="p-437">While today's computers are powerful, they cannot handle every problem we might ask of them.  Eventually, we would like to be able to consider matrices that have <span class="process-math">\(n=10^{12}\)</span> (a trillion) rows and columns.  In very broad terms, the effort required to find the reduced row echelon matrix will require roughly <span class="process-math">\((10^{12})^3 = 10^{36}\)</span> operations.</p>
<p id="p-438">To put this into context, imagine we need to solve a linear system with a trillion equations and a trillion variables and that we have a computer that can perform a trillion, <span class="process-math">\(10^{12}\text{,}\)</span> operations every second.  Finding the reduced row echelon form would take about <span class="process-math">\(10^{16}\)</span> years.  At this time, the universe is estimated to be approximately <span class="process-math">\(10^{10}\)</span> years old.  If we started the calculation when the universe was born, we'd be about one-millionth of the way through.</p>
<p id="p-439">This may seem like an absurd situation, but we'll see in <a href="sec-stochastic.html#subsec-google" class="internal" title="Subsection 4.5.3: Google's PageRank algorithm">Subsection 4.5.3</a> how we use the results of such a computation every day. Clearly, we will need some better tools to deal with <em class="emphasis">really</em> big problems like this one.</p></section><section class="subsection" id="subsection-11"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber">1.3.4</span> <span class="title">Summary</span>
</h3>
<p id="p-440">We learned some basic features of Sage with an emphasis on finding the reduced row echelon form of a matrix.</p>
<ul class="disc">
<li id="li-261"><p id="p-441">Sage can perform basic arithmetic using standard operators.  Sage can also save results from one command to be reused in a later command.</p></li>
<li id="li-262"><p id="p-442">We may define matrices in Sage and find the reduced row echelon form using the <code class="code-inline tex2jax_ignore">rref</code> command.</p></li>
<li id="li-263"><p id="p-443">We saw an example of the <a href="" class="xref" data-knowl="./knowl/principle-augmentation-principle.html" title="Proposition 1.3.1: Augmentation Principle">Augmentation Principle</a>, which we then stated as a general principle.</p></li>
<li id="li-264"><p id="p-444">We saw that the computational effort required to find the reduced row echelon form of an <span class="process-math">\(n\times n\)</span> matrix is proportional to <span class="process-math">\(n^3\text{.}\)</span></p></li>
</ul>
<p class="continuation"><a href="app-sage-reference.html" class="internal" title="Appendix A: Sage Reference">Appendix A</a> contains a reference outlining the Sage commands that we have encountered.</p></section><section class="exercises" id="exercises-2"><h3 class="heading hide-type">
<span class="type">Exercises</span> <span class="codenumber">1.3.5</span> <span class="title">Exercises</span>
</h3>
<article class="exercise exercise-like" id="exercise-7"><h4 class="heading"><span class="codenumber">1<span class="period">.</span></span></h4>
<p id="p-445">Consider the linear system</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{alignedat}{4}
x \amp {}+{} \amp 2y \amp {}-{} \amp z \amp {}={} \amp 1 \\
3x \amp {}+{} \amp 2y \amp {}+{} \amp 2z \amp {}={} \amp 7 \\
-x \amp \amp \amp {}+{} \amp 4z \amp {}={} \amp -3 \\
\end{alignedat}
\end{equation*}
</div>
<p class="continuation">Write this system as an augmented matrix and use Sage to find a description of the solution space. <pre class="ptx-sagecell sagecell-sage" id="sage-13"><script type="text/x-sage">
</script></pre></p></article><article class="exercise exercise-like" id="exercise-8"><h4 class="heading"><span class="codenumber">2<span class="period">.</span></span></h4>
<p id="p-448">Shown below are some traffic patterns in the downtown area of a large city.  The figures give the number of cars per hour traveling along each road.  Any car that drives into an intersection must also leave the intersection.  This means that the number of cars entering an intersection in an hour is equal to the number of cars leaving the intersection.</p>
<ol class="lower-alpha">
<li id="li-265">
<p id="p-449">Let's begin with the following traffic pattern.</p>
<ol class="lower-roman">
<li id="li-266"><p id="p-450">How many cars per hour enter the upper left intersection?  How many cars per hour leave this intersection?  Use this to form a linear equation in the variables <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> <span class="process-math">\(z\text{,}\)</span> and <span class="process-math">\(w\text{.}\)</span> <div class="sidebyside"><div class="sbsrow" style="margin-left:15%;margin-right:15%;"><div class="sbspanel top" style="width:100%;"><img src="external/images/traffic-b.svg" role="img" class="contained"></div></div></div></p></li>
<li id="li-267"><p id="p-451">Form three more linear equations from the other three intersections to form a linear system having four equations in four variables.  Then use Sage to find the solution space to this system. <pre class="ptx-sagecell sagecell-sage" id="sage-14"><script type="text/x-sage">
</script></pre></p></li>
<li id="li-268"><p id="p-452">Is there exactly one solution or infinitely many solutions?  Explain why you would expect this given the information provided.</p></li>
</ol>
</li>
<li id="li-269">
<p id="p-453">Another traffic pattern is shown below. <div class="sidebyside"><div class="sbsrow" style="margin-left:15%;margin-right:15%;"><div class="sbspanel top" style="width:100%;"><img src="external/images/traffic-a.svg" role="img" class="contained"></div></div></div></p>
<ol class="lower-roman">
<li id="li-270"><p id="p-454">Once again, write a linear system for the quantities <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> <span class="process-math">\(z\text{,}\)</span> and <span class="process-math">\(w\)</span> and solve the system using the Sage cell below. <pre class="ptx-sagecell sagecell-sage" id="sage-15"><script type="text/x-sage">
</script></pre></p></li>
<li id="li-271"><p id="p-455">What can you say about the solution of this linear system?  Is there exactly one solution or infinitely many solutions?  Explain why you would expect this given the information provided.</p></li>
<li id="li-272"><p id="p-456">What is the smallest possible amount of traffic flowing through <span class="process-math">\(x\text{?}\)</span></p></li>
</ol>
</li>
</ol></article><article class="exercise exercise-like" id="exercise-9"><h4 class="heading"><span class="codenumber">3<span class="period">.</span></span></h4>
<p id="p-469">A typical problem in thermodynamics is to find the steady-state temperature distribution inside a thin plate if we know the temperature around the boundary.  Let <span class="process-math">\(T_1, T_2, \ldots,
T_6\)</span> be the temperatures at the six nodes inside the plate as shown below. <div class="sidebyside"><div class="sbsrow" style="margin-left:25%;margin-right:25%;"><div class="sbspanel top" style="width:100%;"><img src="external/images/heat.svg" role="img" class="contained"></div></div></div> The temperature at a node is approximately the average of the four nearest nodes: for instance,</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
T_1 = (10 + 15 + T_2 + T_4)/4\text{,}
\end{equation*}
</div>
<p class="continuation">which we may rewrite as</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
4T_1 - T_2 - T_4
= 25\text{.}
\end{equation*}
</div>
<p id="p-470">Set up a linear system to find the temperature at these six points inside the plate.  Then use Sage to solve the linear system.  If all the entries of the matrix are integers, Sage will compute the reduced row echelon form using rational numbers.  To view a decimal approximation of the results, you may use</p>
<pre class="code-display tex2jax_ignore">
A.rref().numerical_approx(digits=4)
      </pre>
<p class="continuation"><pre class="ptx-sagecell sagecell-sage" id="sage-16"><script type="text/x-sage">
</script></pre></p>
<p id="p-471">In the real world, the approximation becomes better as we add more and more points into the grid.  This is a situation where we may want to solve a linear system having millions of equations and millions of variables.</p></article><article class="exercise exercise-like" id="exercise-10"><h4 class="heading"><span class="codenumber">4<span class="period">.</span></span></h4>
<p id="p-474">The fuel inside model rocket motors is a black powder mixture that ideally consists of 60% charcoal, 30% potassium nitrate, and 10% sulfur by weight.</p>
<p id="p-475">Suppose you work at a company that makes model rocket motors.  When you come into work one morning, you learn that yesterday's first shift made a perfect batch of fuel.  The second shift, however, misread the recipe and used 50% charcoal, 20% potassium nitrate and 30% sulfur.  Then the two batches were mixed together.  A chemical analysis shows that there are 100.3 pounds of charcoal in the mixture and 46.9 pounds of potassium nitrate.</p>
<ol class="lower-alpha">
<li id="li-283"><p id="p-476">Assuming the first shift produced <span class="process-math">\(x\)</span> pounds of fuel and the second <span class="process-math">\(y\)</span> pounds, set up a linear system in terms of <span class="process-math">\(x\)</span> and <span class="process-math">\(y\text{.}\)</span>  How many pounds of fuel did the first shift produce and how many did the second shift produce? <pre class="ptx-sagecell sagecell-sage" id="sage-17"><script type="text/x-sage">
</script></pre></p></li>
<li id="li-284"><p id="p-477">How much sulfur would you expect to find in the mixture?</p></li>
</ol></article><article class="exercise exercise-like" id="exercise-11"><h4 class="heading"><span class="codenumber">5<span class="period">.</span></span></h4>
<p id="p-482">This exercise is about balancing chemical reactions.</p>
<ol class="lower-alpha">
<li id="li-287">
<p id="p-483">Chemists denote a molecule of water as <span class="process-math">\(\text{H}_2\text{O}\text{,}\)</span> which means it is composed of two atoms of hydrogen (H) and one atom of oxygen (O). The process by which hydrogen burns is described by the chemical reaction</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
x\thinspace \text{H}_2 + y\thinspace\text{O}_2 \to
z\thinspace \text{H}_2\text{O}
\end{equation*}
</div>
<p class="continuation">This means that <span class="process-math">\(x\)</span> molecules of hydrogen <span class="process-math">\(\text{H}_2\)</span> combine with <span class="process-math">\(y\)</span> molecules of oxygen <span class="process-math">\(\text{O}_2\)</span> to produce <span class="process-math">\(z\)</span> water molecules. The number of hydrogen atoms is the same before and after the reaction;  the same is true of the oxygen atoms.</p>
<ol id="p-484" class="decimal">
<li id="li-288"><p id="p-485">In terms of <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> and <span class="process-math">\(z\text{,}\)</span> how many hydrogen atoms are there before the reaction?  How many hydrogen atoms are there after the reaction?  Find a linear equation in <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> and <span class="process-math">\(z\)</span> by equating these quantities.</p></li>
<li id="li-289"><p id="p-486">Find a second linear equation in <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> and <span class="process-math">\(z\)</span> by equating the number of oxygen atoms before and after the reaction.</p></li>
<li id="li-290"><p id="p-487">Find the solutions of this linear system. Why are there infinitely many solutions? <pre class="ptx-sagecell sagecell-sage" id="sage-18"><script type="text/x-sage">
</script></pre></p></li>
<li id="li-291"><p id="p-488">In this chemical setting, <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> and <span class="process-math">\(z\)</span> should be positive integers.  Find the solution where <span class="process-math">\(x\text{,}\)</span> <span class="process-math">\(y\text{,}\)</span> and <span class="process-math">\(z\)</span> are the smallest possible positive integers.</p></li>
</ol>
</li>
<li id="li-292">
<p id="p-489">Now consider the reaction where potassium permanganate and manganese sulfate combine with water to produce manganese dioxide, potassium sulfate, and sulfuric acid:</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
x_1\thinspace \text{K}\text{Mn}\text{O}_4 + 
x_2\thinspace \text{Mn}\text{S}\text{O}_4 + 
x_3\thinspace \text{H}_2\text{O} \to
x_4\thinspace \text{Mn}\text{O}_2 + 
x_5\thinspace \text{K}_2\text{S}\text{O}_4 + 
x_6\thinspace \text{H}_2\text{S}\text{O}_4.
\end{equation*}
</div>
<p class="continuation">As in the previous exercise, find the appropriate values for <span class="process-math">\(x_1, x_2, \ldots, x_6\)</span> to balance the chemical reaction. <pre class="ptx-sagecell sagecell-sage" id="sage-19"><script type="text/x-sage">
</script></pre></p>
</li>
</ol></article><article class="exercise exercise-like" id="exercise-12"><h4 class="heading"><span class="codenumber">6<span class="period">.</span></span></h4>
<p id="p-500">We began this section by stating that increasing computational power has helped linear algebra assume a prominent role as a scientific tool.  Later, we looked at one computational limitation:  once a matrix gets to be too big, it is not reasonable to apply Gaussian elimination to find its reduced row echelon form.</p>
<p id="p-501">In this exercise, we will see another limitation: computer arithmetic with real numbers is only an approximation because computers represent real numbers with only a finite number of bits.  For instance, the number pi</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\pi =
3.141592653589793238462643383279502884197169399\ldots
\end{equation*}
</div>
<p class="continuation">would be approximated inside a computer by, say,</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\pi\approx 3.141592653589793
\end{equation*}
</div>
<p class="continuation">Most of the time, this is not a problem.  However, when we perform millions or even billions of arithmetic operations, the error in these approximations starts to accumulate and can lead to results that are wildly inaccurate.  Here are two examples demonstrating this.</p>
<ol class="lower-alpha">
<li id="li-300">
<p id="p-502">Let's first see an example showing that computer arithmetic really is an approximation.  First, consider the linear system</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{alignedat}{4}
x \amp {}+{} \amp \frac12y \amp {}+{} \amp \frac13z \amp
{}={} \amp 1 \\
\frac12x \amp {}+{} \amp \frac13y \amp {}+{} \amp \frac14z \amp
{}={} \amp 0 \\
\frac13x \amp {}+{} \amp \frac14y \amp {}+{} \amp \frac15z \amp
{}={} \amp 0 \\
\end{alignedat}
\end{equation*}
</div>
<p class="continuation">If the coefficients are entered into Sage as fractions, Sage will find the exact reduced row echelon form.  Find the exact solution to this linear system. <pre class="ptx-sagecell sagecell-sage" id="sage-20"><script type="text/x-sage">
</script></pre></p>
<p id="p-503">Now let's ask Sage to compute with real numbers.  We can do this by representing one of the coefficients as a decimal.  For instance, the same linear system can be represented as</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{alignedat}{4}
x \amp {}+{} \amp 0.5y \amp {}+{} \amp \frac13z \amp
{}={} \amp 1 \\
\frac12x \amp {}+{} \amp \frac13y \amp {}+{} \amp \frac14z \amp
{}={} \amp 0 \\
\frac13x \amp {}+{} \amp \frac14y \amp {}+{} \amp \frac15z \amp
{}={} \amp 0 \\
\end{alignedat}
\end{equation*}
</div>
<p class="continuation">Most computers do arithmetic using either 32 or 64 bits.  To magnify the problem so that we can see it better, we will ask Sage to do arithmetic using only 10 bits as follows. <pre class="ptx-sagecell sagecell-sage" id="sage-21"><script type="text/x-sage">R = RealNumber
RealNumber = RealField(10)

# enter the matrix below
A = matrix( ..., ..., [ ... ] )

print (A.rref())
RealNumber = R
</script></pre> What does Sage give for the solution now?  Compare this to the exact solution that you found previously.</p>
</li>
<li id="li-301">
<p id="p-504">Some types of linear systems are particularly sensitive to errors resulting from computers' approximate arithmetic. For instance, suppose we are interested in the linear system</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{alignedat}{3}
x \amp {}+{} \amp y \amp {}={} \amp 2 \\
x \amp {}+{} 1.001\amp y \amp {}={} \amp 2 \\
\end{alignedat}
\end{equation*}
</div>
<p class="continuation">Find the solution to this linear system. <pre class="ptx-sagecell sagecell-sage" id="sage-22"><script type="text/x-sage">
</script></pre></p>
<p id="p-505">Suppose now that the computer has accumulated some error in one of the entries of this system so that it incorrectly stores the system as</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
\begin{alignedat}{3}
x \amp {}+{} \amp y \amp {}={} \amp 2 \\
x \amp {}+{} 1.001\amp y \amp {}={} \amp 2.001 \\
\end{alignedat}
\end{equation*}
</div>
<p class="continuation">Find the solution to this linear system. <pre class="ptx-sagecell sagecell-sage" id="sage-23"><script type="text/x-sage">
</script></pre></p>
<p id="p-506">Notice how a small error in one of the entries in the linear system leads to a solution that has a dramatically large error.  Fortunately, this is an issue that has been well studied, and there are techniques that mitigate this type of behavior.</p>
</li>
</ol></article></section></section></div></main>
</div>
</body>
</html>
